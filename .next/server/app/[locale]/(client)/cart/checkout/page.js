(()=>{var e={};e.id=994,e.ids=[994],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},79348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55315:e=>{"use strict";e.exports=require("path")},87993:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>o});var r=t(3003),a=t(14293),l=t(66550),n=t.n(l),i=t(86979),c={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let o=["",{children:["[locale]",{children:["(client)",{children:["cart",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,51429)),"/Users/themacstore/Desktop/PROJECT_nextjs/ecommerce_nextjs15/src/app/[locale]/(client)/cart/checkout/page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,87329)),"/Users/themacstore/Desktop/PROJECT_nextjs/ecommerce_nextjs15/src/app/[locale]/(client)/layout.jsx"],loading:[()=>Promise.resolve().then(t.bind(t,18843)),"/Users/themacstore/Desktop/PROJECT_nextjs/ecommerce_nextjs15/src/app/[locale]/(client)/loading.jsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,33116)),"/Users/themacstore/Desktop/PROJECT_nextjs/ecommerce_nextjs15/src/app/[locale]/layout.js"],"not-found":[()=>Promise.resolve().then(t.bind(t,48756)),"/Users/themacstore/Desktop/PROJECT_nextjs/ecommerce_nextjs15/src/app/[locale]/not-found.jsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,88768)),"/Users/themacstore/Desktop/PROJECT_nextjs/ecommerce_nextjs15/src/app/layout.jsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,98199)),"/Users/themacstore/Desktop/PROJECT_nextjs/ecommerce_nextjs15/src/app/not-found.jsx"]}],d=["/Users/themacstore/Desktop/PROJECT_nextjs/ecommerce_nextjs15/src/app/[locale]/(client)/cart/checkout/page.jsx"],p={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/[locale]/(client)/cart/checkout/page",pathname:"/[locale]/cart/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},36746:(e,s,t)=>{Promise.resolve().then(t.bind(t,73018))},30361:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},81178:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]])},73018:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var r=t(68819),a=t(77115),l=t(65188),n=t(17266),i=t(91175);let c=n.forwardRef(({className:e,...s},t)=>(0,r.jsx)("textarea",{className:(0,i.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...s}));c.displayName="Textarea";var o=t(61561),d=t(5629),p=t(67868),x=t(96126),m=t(81178),u=t(35047),h=t(23844),j=t(36526);function f(){let e=(0,u.useRouter)(),s=(0,h.useTranslations)("Index"),{cartItems:t,clearCart:i}=(0,x.j)(),[f,y]=(0,n.useState)({name:"",phone:"",note:""}),[g,v]=(0,n.useState)(!1),[b,N]=(0,n.useState)(null),[k,_]=(0,n.useState)({}),[P,w]=(0,n.useState)(!1),C=e=>{let{id:s,value:t}=e.target;y(e=>({...e,[s]:t}))},R=async s=>{s.preventDefault(),N(null),_({});let r={};if(f.name.trim()||(r.name="Name is required."),f.phone.trim()?/^\d{7,15}$/.test(f.phone)||(r.phone="Phone number must be between 7 to 15 digits."):r.phone="Phone number is required.",Object.keys(r).length>0){_(r);return}let a={...f,items:t.map(e=>({id:e.id,title:e.title,image:e.image,price:e.price,discount:e.discount,quantity:e.quantity}))};v(!0);try{if(!(await fetch(process.env.BASE_API_URL+"/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)throw Error("Failed to place the order. Please contact admin.");i({isShowDialog:!1}),e.push("/cart/success")}catch(e){N(e.message)}finally{v(!1)}};return P?(0,r.jsxs)("div",{className:"flex flex-col min-h-screen mb-8 lg:px-4",children:[(0,r.jsx)(j.default,{}),(0,r.jsx)(p.Z,{currentStep:2,allowCheckout:!0},t),(0,r.jsxs)("main",{className:"flex-1 grid grid-cols-1 lg:grid-cols-[4fr_2fr] gap-8",children:[(0,r.jsxs)("div",{className:"p-2 py-4 border rounded-lg shadow-lg lg:p-8 bg-background",children:[(0,r.jsx)("h1",{className:"mb-4 text-2xl font-bold",children:s("checkout")}),(0,r.jsxs)("form",{className:"grid grid-cols-2 gap-4",onSubmit:R,children:[(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)(a._,{htmlFor:"name",children:s("name")}),(0,r.jsx)(l.I,{autoFocus:!0,id:"name",placeholder:s("name"),value:f.name,onChange:C}),k.name&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-500",children:k.name})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)(a._,{htmlFor:"phone",children:s("phone")}),(0,r.jsx)(l.I,{id:"phone",type:"number",placeholder:"ex: 061561155",value:f.phone,onChange:C}),k.phone&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-500",children:k.phone})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)(a._,{htmlFor:"note",children:s("note")}),(0,r.jsx)(c,{id:"note",placeholder:s("note"),value:f.note,onChange:C})]}),(0,r.jsx)("div",{className:"flex justify-end col-span-2",children:t.length>0&&(0,r.jsx)(o.z,{type:"submit",size:"lg",disabled:g,children:g?(0,r.jsxs)("p",{className:"flex gap-2",children:[(0,r.jsx)(m.Z,{className:"text-white animate-spin"}),s("placingOrder"),"..."]}):s("placeOrder")})})]}),b&&(0,r.jsx)("p",{className:"mt-4 text-center text-red-500",children:b})]}),(0,r.jsx)(d.Z,{})]})]}):null}},67868:(e,s,t)=>{"use strict";t.d(s,{Z:()=>o});var r=t(68819),a=t(57671);let l=(0,t(62881).Z)("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);var n=t(30361),i=t(23844),c=t(90434);t(17266);let o=({currentStep:e})=>{let s=(0,i.useTranslations)("Index");return(0,r.jsxs)("div",{className:"flex items-center justify-center p-2 py-8 space-x-8",children:[(0,r.jsxs)(c.default,{href:"/cart",className:"flex items-center space-x-2",children:[(0,r.jsx)(a.Z,{className:e>=1?"text-primary":"text-gray-400"}),(0,r.jsx)("span",{className:e>=1?"text-primary":"text-gray-400",children:s("cart")})]}),(0,r.jsx)("div",{className:2===e?"flex-1 border-t border-primary border-2":"flex-1 border-t border-2 border-gray-400"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(l,{className:2===e?"text-primary":"text-gray-400"}),(0,r.jsx)("span",{className:2===e?"text-primary":"text-gray-400",children:s("checkout")})]}),(0,r.jsx)("div",{className:"flex-1 border-2 border-t border-gray-400"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(n.Z,{className:3===e?"text-primary":"text-gray-400"}),(0,r.jsx)("span",{className:3===e?"text-primary":"text-gray-400",children:s("success")})]})]})}},5629:(e,s,t)=>{"use strict";t.d(s,{Z:()=>d});var r=t(68819),a=t(17266),l=t(92752),n=t(46226),i=t(81205),c=t(96126),o=t(23844);t(10311);let d=()=>{let e=(0,o.useTranslations)("Index"),{cartItems:s}=(0,c.j)(),[t,d]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{d(!0)},[]),!t)return null;let p=s.reduce((e,s)=>e+(s.price-s.discount/100*s.price)*s.quantity,0),x=p+0;return(0,r.jsxs)("div",{className:"p-2 py-4 border rounded-lg shadow-lg lg:p-8 bg-background",children:[(0,r.jsx)("h2",{className:"mb-4 text-xl font-bold",children:e("orderSummary")}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:e("subTotal")}),(0,r.jsxs)("span",{children:["$",p.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:e("shipping")}),(0,r.jsxs)("span",{children:["$","0.00"]})]}),(0,r.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,r.jsx)("span",{children:e("total")}),(0,r.jsxs)("span",{children:["$",x.toFixed(2)]})]})]}),(0,r.jsx)(l.Separator,{className:"my-4"}),(0,r.jsx)("div",{className:"space-y-2 max-h-[100vh] overflow-y-auto pr-4",children:s.map((s,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"flex items-center justify-start gap-2",children:(0,r.jsx)(n.default,{src:i.wX+s.image,width:50,height:50,alt:s.title,className:"object-cover rounded-md aspect-book"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium line-clamp-2",children:[t+1,". ",s.title]}),(0,r.jsxs)("p",{className:"text-gray-500",children:[e("quantity"),": ",s.quantity]})]}),(0,r.jsxs)("p",{className:"ml-auto font-medium",children:["$",((s.price-s.discount/100*s.price)*s.quantity).toFixed(2)]})]},s.id))})]})}},36526:(e,s,t)=>{"use strict";function r(){return null}t.d(s,{default:()=>r}),t(17266)},92752:(e,s,t)=>{"use strict";t.d(s,{Separator:()=>d});var r=t(68819),a=t(17266),l=t(77335),n="horizontal",i=["horizontal","vertical"],c=a.forwardRef((e,s)=>{let{decorative:t,orientation:a=n,...c}=e,o=i.includes(a)?a:n;return(0,r.jsx)(l.WV.div,{"data-orientation":o,...t?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...c,ref:s})});c.displayName="Separator";var o=t(91175);let d=a.forwardRef(({className:e,orientation:s="horizontal",decorative:t=!0,...a},l)=>(0,r.jsx)(c,{ref:l,decorative:t,orientation:s,className:(0,o.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...a}));d.displayName=c.displayName},51429:(e,s,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.r(s),t.d(s,{default:()=>e});var a=t(71851);let e=(await (0,a.createProxy)(String.raw`/Users/themacstore/Desktop/PROJECT_nextjs/ecommerce_nextjs15/src/app/[locale]/(client)/cart/checkout/page.jsx`)).default;r()}catch(e){r(e)}},1)}};var s=require("../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[147,424,848,971,199,638,910,444,617,714,548],()=>t(87993));module.exports=r})();