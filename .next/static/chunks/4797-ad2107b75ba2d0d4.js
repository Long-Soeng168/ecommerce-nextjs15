"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4797],{57954:(e,t,a)=>{a.d(t,{MyHomeSidebar:()=>u});var r=a(57437),s=a(8265),o=a(24020),n=a(42421),i=a(66648);a(53277);var l=a(27628),d=a(16463),c=a(18087);function u(e){var t,a;let{categories:u,isModal:m=!1}=e,p=(0,c.useTranslations)("Index"),f=(0,c.useLocale)(),g=(0,d.useSearchParams)(),x=(0,d.usePathname)(),{replace:h}=(0,d.useRouter)(),y=null===(t=g.get("categoryId"))||void 0===t?void 0:t.toString(),b=null===(a=g.get("subCategoryId"))||void 0===a?void 0:a.toString(),v=e=>{let t=new URLSearchParams(g);e?(t.set("categoryId",e),t.delete("subCategoryId"),t.set("page",1)):t.delete("categoryId"),m?h("/products?".concat(t.toString())):h("".concat(x,"?").concat(t.toString()))},N=(e,t)=>{let a=new URLSearchParams(g);e?(a.set("subCategoryId",e),a.set("categoryId",t),a.set("page",1)):a.delete("subCategoryId"),h("".concat(x,"?").concat(a.toString()))};return(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("div",{className:"flex items-stretch justify-between transition-all duration-500 cursor-pointer",children:(0,r.jsxs)("button",{onClick:()=>v(),className:"".concat(null==y&&"underline font-bold bg-primary group text-primary-foreground hover:text-primary"," hover:bg-primary/10 p-2 py-2 rounded items-center flex gap-1 w-full text-[16px] hover:underline"),children:[(0,r.jsx)(o.Z,{size:26}),p("allCategories")]})}),(null==u?void 0:u.length)>0&&(null==u?void 0:u.map(e=>{var t,a,o;return(0,r.jsxs)(s.zF,{defaultOpen:y==e.id,children:[(0,r.jsxs)("div",{className:"flex items-stretch justify-between transition-all duration-500 cursor-pointer",children:[(0,r.jsxs)("button",{onClick:()=>v(e.id),className:"".concat(y==e.id&&"underline font-semibold bg-primary group text-primary-foreground hover:text-primary"," hover:bg-primary/10 rounded-tl rounded-bl items-center flex gap-1 p-0.5 w-full text-[16px] hover:underline"),children:[(0,r.jsx)(i.default,{className:"aspect-square p-0.5 bg-white rounded-[2px] dark:bg-gray-100 object-contain",width:34,height:34,src:l.Ze+e.image,alt:""}),(0,r.jsxs)("span",{children:["kh"==f?e.name_kh:e.name," ",e.books_count>0&&(0,r.jsx)("span",{className:"text-[12px]  ".concat(y==e.id?"text-primary-foreground group-hover:text-primary":"text-primary/80","  "),children:" (".concat(e.books_count,")")})]})]}),(null===(t=e.sub_categories)||void 0===t?void 0:t.length)>0&&(0,r.jsx)(s.wy,{className:"".concat(y==e.id&&"underline font-bold bg-primary group text-white hover:text-primary"," p-0.5 text-[16px] rounded-tr rounded-br px-2 hover:bg-primary/10"),children:(0,r.jsx)(n.Z,{size:18})})]}),(null===(a=e.sub_categories)||void 0===a?void 0:a.length)>0&&(0,r.jsx)(s.Fw,{className:"w-full ml-4 text-[14px] border-l-2 border-primary",children:(0,r.jsx)("ul",{className:"py-2 space-y-2",children:null===(o=e.sub_categories)||void 0===o?void 0:o.map(t=>(0,r.jsx)("li",{children:(0,r.jsxs)("button",{className:"".concat(b==t.id&&"underline font-semibold"," relative pl-2 max-w-[85%] w-full text-left underline-offset-4 cursor-pointer hover:underline"),onClick:()=>{N(t.id,e.id)},children:["kh"==f?t.name_kh:t.name,t.books_count>0&&(0,r.jsx)("span",{className:"text-[12px] text-primary/80",children:" (".concat(t.books_count,")")})]})},t.id))})})]},e.id)}))]})}},8265:(e,t,a)=>{a.d(t,{Fw:()=>n,wy:()=>o,zF:()=>s});var r=a(40882);let s=r.fC,o=r.wy,n=r.Fw},17147:(e,t,a)=>{a.d(t,{I:()=>n});var r=a(57437),s=a(2265),o=a(58214);let n=s.forwardRef((e,t)=>{let{className:a,type:s,...n}=e;return(0,r.jsx)("input",{type:s,className:(0,o.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-md shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...n})});n.displayName="Input"},53277:(e,t,a)=>{a.d(t,{_:()=>d});var r=a(57437),s=a(2265),o=a(38837),n=a(12218),i=a(58214);let l=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(o.f,{ref:t,className:(0,i.cn)(l(),a),...s})});d.displayName=o.f.displayName},39969:(e,t,a)=>{a.d(t,{Ei:()=>h,Sheet:()=>d,SheetContent:()=>f,SheetHeader:()=>g,SheetTitle:()=>x,SheetTrigger:()=>c});var r=a(57437),s=a(2265),o=a(98966),n=a(4867),i=a(12218),l=a(58214);let d=o.fC,c=o.xz;o.x8;let u=o.h_,m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(o.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});m.displayName=o.aV.displayName;let p=(0,i.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-lg",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-lg"}},defaultVariants:{side:"right"}}),f=s.forwardRef((e,t)=>{let{side:a="right",className:s,children:i,...d}=e;return(0,r.jsxs)(u,{children:[(0,r.jsx)(m,{}),(0,r.jsxs)(o.VY,{ref:t,className:(0,l.cn)(p({side:a}),s),...d,children:[(0,r.jsxs)(o.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 z-50 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(n.Pxu,{className:"w-8 h-8"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]}),i]})]})});f.displayName=o.VY.displayName;let g=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};g.displayName="SheetHeader";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(o.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold text-foreground",a),...s})});x.displayName=o.Dx.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(o.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});h.displayName=o.dk.displayName},27628:(e,t,a)=>{a.d(t,{L_:()=>d,Mr:()=>n,P9:()=>s,PE:()=>c,WZ:()=>o,Ze:()=>l,wX:()=>i});let r="https://admin.thnal.org",s=!0,o=4100,n=r+"/api",i=r+"/assets/images/isbn/",l=r+"/assets/images/categories/",d=r+"/assets/images/payments/",c=r+"/assets/pdf/books/"},88794:(e,t,a)=>{a.d(t,{CartProvider:()=>d,j:()=>c});var r=a(57437),s=a(2265),o=a(60479);let n={cartItems:[]};function i(e,t){switch(t.type){case"ADD_TO_CART":if(e.cartItems.find(e=>e.id===t.payload.id))return{...e,cartItems:e.cartItems.map(e=>e.id===t.payload.id?{...e,quantity:e.quantity+1}:e)};return{...e,cartItems:[...e.cartItems,{...t.payload,quantity:1}]};case"REMOVE_FROM_CART":return{...e,cartItems:e.cartItems.filter(e=>e.id!==t.payload.id)};case"UPDATE_QUANTITY":return{...e,cartItems:e.cartItems.map(e=>e.id===t.payload.id?{...e,quantity:Math.max(e.quantity+t.payload.delta,1)}:e)};case"CLEAR_CART":return n;default:return e}}let l=(0,s.createContext)();function d(e){let{children:t}=e,[a,d]=(0,s.useReducer)(i,(()=>{{let e=localStorage.getItem("cart");return e?JSON.parse(e):n}})()),[c,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)("");(0,s.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(a))},[a]);let f=e=>{p(e),u(!0)};return(0,r.jsxs)(l.Provider,{value:{cartItems:a.cartItems,addToCart:function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];d({type:"ADD_TO_CART",payload:e}),t&&f("".concat(e.title," has been added to the cart."))},removeFromCart:e=>{d({type:"REMOVE_FROM_CART",payload:e}),f("".concat(e.title," has been removed from the cart."))},clearCart:e=>{let{isShowDialog:t=!0}=e;d({type:"CLEAR_CART"}),t&&f("Your cart has been cleared.")},handleQuantityChange:(e,t)=>{d({type:"UPDATE_QUANTITY",payload:{id:e,delta:t}})},getTotalItemCount:()=>a.cartItems.length},children:[t,(0,r.jsx)(o.l,{isOpen:c,message:m,onClose:()=>{u(!1)}})]})}function c(){return(0,s.useContext)(l)}}}]);